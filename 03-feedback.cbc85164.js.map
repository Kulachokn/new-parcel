{"mappings":"iiBAAA,IAqCQA,EACAC,EAtCRC,EAAAC,EAAA,SAEMC,EAAc,sBACdC,EAAOC,SAASC,cAAc,kBAEpCF,EAAKG,iBAAiB,QAASC,EAAAP,EAAA,EAK/B,WACE,IAAMQ,EAAW,CAAEC,MAAON,EAAKM,MAAMC,MAAOC,QAASR,EAAKQ,QAAQD,OAE5DE,EAAsBC,KAAKC,UAAUN,GAC3CO,aAAaC,QAAQd,EAAaU,KATiB,MACrDT,EAAKG,iBAAiB,UAWtB,SAAsBW,GAGpB,GAFAA,EAAEC,iBAE2B,KAAzBD,EAAEE,OAAOV,MAAMC,MAEjB,YADAU,MAAM,2BAGR,GAA+B,KAA3BH,EAAEE,OAAOR,QAAQD,MAEnB,YADAU,MAAM,4BAIR,IAAMC,EAAiB,CAAEZ,MAAON,EAAKM,MAAMC,MAAOC,QAASR,EAAKQ,QAAQD,OACxEY,QAAQC,IAAIF,GAEZJ,EAAEO,cAAcC,QAChBV,aAAaW,WAAWxB,MAIlBJ,EAAeiB,aAAaY,QAAQzB,IACpCH,EAAqBc,KAAKe,MAAM9B,MAGpCK,EAAKM,MAAMC,MAAQX,EAAmBU,MACtCN,EAAKQ,QAAQD,MAAQX,EAAmBY","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', throttle(onFormInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\npopulateForm();\n\nfunction onFormInput() {\n  const formData = { email: form.email.value, message: form.message.value };\n\n  const formDataStringified = JSON.stringify(formData);\n  localStorage.setItem(STORAGE_KEY, formDataStringified);\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  if (e.target.email.value === '') {\n    alert('Please enter your email');\n    return;\n  }\n  if (e.target.message.value === '') {\n    alert('Please type your message');\n    return;\n  }\n\n  const formDataSubmit = { email: form.email.value, message: form.message.value };\n  console.log(formDataSubmit);\n\n  e.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction populateForm() {\n  const storageValue = localStorage.getItem(STORAGE_KEY);\n  const storageValueParsed = JSON.parse(storageValue);\n\n  if (storageValueParsed) {\n    form.email.value = storageValueParsed.email;\n    form.message.value = storageValueParsed.message;\n  }\n}\n"],"names":["storageValue","storageValueParsed","$dCfNN","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$form","document","querySelector","addEventListener","$parcel$interopDefault","formData","email","value","message","formDataStringified","JSON","stringify","localStorage","setItem","e","preventDefault","target","alert","formDataSubmit","console","log","currentTarget","reset","removeItem","getItem","parse"],"version":3,"file":"03-feedback.cbc85164.js.map"}